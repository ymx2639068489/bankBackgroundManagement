(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-25abfb36"],{"395b":function(t,e,i){},"5c1b":function(t,e,i){"use strict";i("395b")},"77c4":function(t,e,i){"use strict";i.d(e,"a",(function(){return a})),i.d(e,"b",(function(){return r})),i.d(e,"c",(function(){return s}));i("d3b7");var n=i("b775");function a(t){var e=t.activityID,i=t.message,a=t.result;return new Promise((function(t,r){Object(n["a"])({url:"/api/audit/activity",method:"post",data:JSON.stringify({activityID:e,message:i,result:a})}).then((function(e){t(e)})).catch((function(t){r(t)}))}))}function r(t){var e=t.articleID,i=t.message,a=t.result;return new Promise((function(t,r){Object(n["a"])({url:"/api/audit/article",method:"post",data:JSON.stringify({articleID:e,message:i,result:a})}).then((function(e){t(e)})).catch((function(t){r(t)}))}))}function s(t){var e=t.productID,i=t.message,a=t.result;return new Promise((function(t,r){Object(n["a"])({url:"/api/audit/product",method:"post",data:JSON.stringify({productID:e,message:i,result:a})}).then((function(e){t(e)})).catch((function(t){r(t)}))}))}},"83c4":function(t,e,i){},b146:function(t,e,i){"use strict";i.d(e,"i",(function(){return n})),i.d(e,"j",(function(){return a})),i.d(e,"k",(function(){return r})),i.d(e,"d",(function(){return s})),i.d(e,"e",(function(){return c})),i.d(e,"b",(function(){return o})),i.d(e,"c",(function(){return u})),i.d(e,"a",(function(){return l})),i.d(e,"p",(function(){return d})),i.d(e,"q",(function(){return f})),i.d(e,"n",(function(){return m})),i.d(e,"o",(function(){return g})),i.d(e,"f",(function(){return p})),i.d(e,"g",(function(){return v})),i.d(e,"h",(function(){return _})),i.d(e,"l",(function(){return b})),i.d(e,"m",(function(){return h}));var n=[{value:2,label:"审核通过"},{value:1,label:"等待审核"},{value:0,label:"测试中"},{value:-1,label:"审核失败"}],a={2:"审核通过",1:"等待审核",0:"测试中","-1":"审核失败"},r=[{value:1,label:"存款"},{value:2,label:"贷款"}],s=[{value:0,label:"暂不定义"},{value:1,label:"年利率"},{value:2,label:"月利率"},{value:3,label:"日利率"}],c={0:"暂不定义",1:"年利率",2:"月利率",3:"日利率"},o=[{value:1,label:"筛选配置"},{value:2,label:"资源配置"},{value:3,label:"等待审核"},{value:4,label:"等待开始"}],u={1:"筛选配置",2:"资源配置",3:"等待审核",4:"等待开始"},l=[{value:1,label:"等待审核"},{value:2,label:"审核成功"},{value:-1,label:"审核失败"}],d=[{value:1,label:"正常"},{value:-1,label:"冻结"},{value:0,label:"测试"}],f={1:"正常","-1":"冻结",0:"测试"},m=[{label:"女",value:1},{label:"男",value:2},{label:"未知",value:0}],g={1:"女",2:"男",0:"未知"},p=[{value:1,label:"等待处理"},{value:2,label:"处理成功"},{value:-1,label:"订单失败"}],v={1:"等待处理",2:"处理成功","-1":"订单失败"},_={1:"未支付",2:"支付","-1":"支付失败"},b=[{value:1,label:"等待审核"},{value:2,label:"审核成功"},{value:-1,label:"审核失败"},{value:0,label:"查看所有"}],h={1:"等待审核",2:"审核成功","-1":"审核失败"}},b6a1:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACwAAAAqBAMAAAA686QvAAAAAXNSR0IArs4c6QAAABtQTFRF////YmJisbGx6+vr19fXxcXFiYmJnZ2ddHR0LuJk8QAAARRJREFUKM+tk7uOwjAQRc0jQMmwgFxCQNSLohWUKQI1SImghD8ACQgly0P8NsaOPWMTqLhVdDS+uZ4ZM/ZZpYkfhy/QByG+c3AXlG4WnYPWhdCqocA7aLxGDA2DK0BlytcW1uVFiwLP0hdsDCuFt/LoM/lZxm+qHLKk7j2PD6ULCd0QV7pmP5fmtSyXx8MKiVjQuWKd9IT9uKe/zEuP8vsHm6dClcFEkfmgFwQsCEYuBmgzfZ8W7YiD31SrX+6TmCXJEr3nJEkJA8o+QD+KWBRNVX/obNB7Q6eAOEQ/gjkZA8EthYcOXtkjPlBrZ3vI/ozzBi/K/wlt42qO8nZNlHcNvVqPQfOz80gGeVTob5H6M/ZVPQChvjk2WsacTQAAAABJRU5ErkJggg=="},bf05:function(t,e,i){"use strict";i.d(e,"a",(function(){return n}));var n={shortcuts:[{text:"最近一周",onClick:function(t){var e=new Date,i=new Date;i.setTime(i.getTime()-6048e5),t.$emit("pick",[i,e])}},{text:"最近一个月",onClick:function(t){var e=new Date,i=new Date;i.setTime(i.getTime()-2592e6),t.$emit("pick",[i,e])}},{text:"最近三个月",onClick:function(t){var e=new Date,i=new Date;i.setTime(i.getTime()-7776e6),t.$emit("pick",[i,e])}}]}},ca41:function(t,e,i){"use strict";i.d(e,"f",(function(){return r})),i.d(e,"c",(function(){return s})),i.d(e,"g",(function(){return c})),i.d(e,"i",(function(){return o})),i.d(e,"d",(function(){return u})),i.d(e,"b",(function(){return l})),i.d(e,"a",(function(){return d})),i.d(e,"e",(function(){return f})),i.d(e,"h",(function(){return m}));i("d3b7"),i("a9e3"),i("a4d3"),i("e01a"),i("ac1f"),i("466d");var n=i("b775"),a=i("ed08");function r(t){var e=t.activity_status,i=t.audit_status,a=t.page,r=t.page_size,s=t.start_time,c=t.ending_time;return new Promise((function(t,o){Object(n["a"])({url:"/api/spikeActivity/list",method:"post",data:JSON.stringify({activity_status:e,audit_status:i,page:a,page_size:r,start_time:s,ending_time:c})}).then((function(e){0!==e.code&&o(e.msg),t(e.data)}))}))}function s(t){return new Promise((function(e,i){Object(n["a"])({url:"/api//spikeActivity/delete",method:"delete",data:JSON.stringify({activity_id:t})}).then((function(t){0!==t.code&&i(t.msg),e(t.data)}))}))}function c(t){return new Promise((function(e,i){Object(n["a"])({url:"/api/spikeActivity/getActivityUserRecord",method:"post",data:JSON.stringify({activity_id:t})}).then((function(t){0!==t.code&&i(t.msg),e(t.data)}))}))}function o(t){t.product_id=Number(t.product_id),console.log(t),t.start_time=Object(a["d"])(t.start_time,"{y}-{m}-{d} {h}:{i}:{s}"),t.ending_time=Object(a["d"])(t.ending_time,"{y}-{m}-{d} {h}:{i}:{s}"),console.log(t);var e=t.product_id,i=t.activity_id,r=t.activity_name,s=t.description,c=t.ending_time,o=t.roles_introduction,u=t.start_time;return new Promise((function(t,a){Object(n["a"])({url:"/api/spikeActivity/update",method:"put",data:JSON.stringify({activity_id:i,activity_name:r,description:s,ending_time:c,product_id:e,roles_introduction:o,start_time:u})}).then((function(e){0!==e.code?a(e.msg):t(e.data)})).catch((function(t){a(t)}))}))}function u(t){return new Promise((function(e,i){Object(n["a"])({url:"/api/spikeActivity/getActivityGuidanceInformation",method:"post",data:JSON.stringify({activity_id:t})}).then((function(t){0!==t.code&&i(t.msg),e(t.data)}))}))}function l(t,e){return new Promise((function(i,a){Object(n["a"])({url:e?"/api/spikeActivity/updateGuidanceInformation":"/api/spikeActivity/addGuidanceInformation",method:"post",data:t}).then((function(t){i(t.msg)}))}))}function d(t){var e=Number(t.product_id.match(/[0-9]+/)),i=Object(a["d"])(t.ending_time),r=Object(a["d"])(t.start_time),s=t.activity_name,c=t.description,o=t.roles_introduction;return new Promise((function(t,a){Object(n["a"])({url:"/api/spikeActivity/release",method:"post",data:JSON.stringify({activity_name:s,description:c,ending_time:i,product_id:e,roles_introduction:o,start_time:r})}).then((function(e){t(e.msg)}))}))}function f(t){return new Promise((function(e,i){Object(n["a"])({url:"/api/spikeActivity/getActivityInfoByID",method:"post",data:JSON.stringify({activity_id:t})}).then((function(t){0!==t.code&&i(t.msg),e(t.data)}))}))}function m(t){t.activity_id=Number(t.activity_id),t.order_status=Number(t.order_status),t.page=Number(t.page),t.page_size=Number(t.page_size);var e=t.activity_id,i=t.order_status,a=t.page,r=t.page_size;return new Promise((function(t,s){Object(n["a"])({url:"/api/order/getOrderListByActivityID",method:"post",data:JSON.stringify({activity_id:e,order_status:i,page:a,page_size:r})}).then((function(e){0!==e.code&&s(e.msg),t(e.data)}))}))}},dd3d:function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("sift",{ref:"sift"}),i("list-cpm",{attrs:{list:t.list},on:{lookGoods:t.lookGoods}}),i("pages",{attrs:{"total-pages":t.totalPages},on:{pageChange:t.pageChange}})],1)},a=[],r=i("ca41"),s=i("b146"),c=i("ed08"),o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t.list&&t.list.length>0?t._l(t.list,(function(e,a){return n("el-card",{key:a,staticClass:"item",nativeOn:{click:function(i){return t.itemClick(e)}}},[n("div",{staticClass:"content"},[n("h2",{staticStyle:{overflow:"hidden"}},[n("img",{attrs:{src:i("b6a1"),width:"24px",height:"24px"}}),n("span",[t._v(t._s(e.activity_name))])]),n("span",{staticStyle:{"font-size":"19.5px"}},[t._v(t._s(t.$IsoToString(e.start_time))+" - "+t._s(t.$IsoToString(e.ending_time)))])]),n("div",{staticClass:"bottom"},[n("el-button",{staticStyle:{background:"rgb(66,185,131)",color:"white"},on:{click:function(i){return i.stopPropagation(),t.pass(e)}}},[t._v("通过审核")]),n("el-button",{attrs:{type:"warning",plain:""},on:{click:function(i){return i.stopPropagation(),t.refuse(e)}}},[t._v("拒绝审核")])],1)])})):[n("el-card",{staticClass:"item",staticStyle:{"line-height":"200px"}},[n("span",{staticStyle:{"margin-left":"140px"}},[t._v("暂无数据")])])],n("el-dialog",{staticStyle:{width:"1600px","margin-left":"-300px"},attrs:{title:"活动信息",visible:t.dialogVisible,width:"30%"},on:{"update:visible":function(e){t.dialogVisible=e}}},[n("span",[n("b",[t._v("创建人: ")]),t._v(t._s(t.current.admin_name))]),n("span",{staticStyle:{"margin-left":"100px"}},[n("b",[t._v("活动ID: ")]),t._v(" "+t._s(t.current.activity_id))]),n("br"),n("br"),n("span",[n("b",[t._v("开始时间: ")]),t._v(t._s(t.$IsoToString(t.current.start_time)))]),n("span",{staticStyle:{"margin-left":"15px"}},[n("b",[t._v("结束时间: ")]),t._v(" "+t._s(t.$IsoToString(t.current.ending_time)))]),n("br"),n("br"),n("span",[n("b",[t._v("详细信息: ")]),t._v(t._s(t.current.description))]),n("br"),n("br"),n("span",[n("b",[t._v("规则介绍: ")]),t._v(t._s(t.current.roles_introduction))]),n("br"),n("br"),n("span",[n("b",[t._v("引导信息: ")])]),n("br"),n("br"),t._l(t.current.guidance_information,(function(t,e){return n("img",{key:e,attrs:{src:t,alt:"",width:"430"}})})),n("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:function(e){t.dialogVisible=!1}}},[t._v("取 消")]),n("el-button",{attrs:{type:"primary"},on:{click:function(e){t.dialogVisible=!1}}},[t._v("确 定")])],1)],2)],2)},u=[],l=i("b85c"),d=(i("a434"),i("77c4")),f={props:{list:{type:Array,default:function(){return[]}}},data:function(){return{dialogVisible:!1,current:{activity_id:"",admin_name:"",description:"",start_time:"",ending_time:"",roles_introduction:"",guidance_information:[]},activityID:null}},methods:{addActivity:function(){this.$router.push("/activity/activityAdd")},pass:function(t){var e=this;this.activityID=t.activity_id,this.$confirm("确定通过？","提示",{confirmButtonText:"确定",cancelButtonText:"取消"}).then((function(){Object(d["a"])({activityID:e.activityID,message:"",result:2}).then((function(t){e.$message({type:"success",message:"操作成功"}),e.$parent.getActivityList()})).catch((function(t){e.$message({type:"error",message:"操作失败"})}))})).catch((function(){e.$message({type:"info",message:"取消通过操作"})}))},refuse:function(t){var e=this;this.activityID=t.activity_id,this.$prompt("请输入理由","提示",{confirmButtonText:"确定",cancelButtonText:"取消"}).then((function(t){var i=t.value;Object(d["a"])({activityID:e.activityID,message:i,result:-1}).then((function(t){e.$message({type:"success",message:"操作成功"}),e.$parent.getActivityList()})).catch((function(t){e.$message({type:"error",message:"操作失败"})}))})).catch((function(){e.$message({type:"info",message:"取消输入"})}))},itemClick:function(t){var e=this;for(var i in this.current)"guidance_information"!==i&&(this.current[i]=t[i]);Object(r["d"])(t.activity_id).then((function(t){e.current.guidance_information.splice(0,e.current.guidance_information.length);var i,n=Object(l["a"])(t.guidance_information);try{for(n.s();!(i=n.n()).done;){var a=i.value;e.current.guidance_information.push(a.host+"/"+a.relative_path)}}catch(r){n.e(r)}finally{n.f()}console.log(e.current)})),this.dialogVisible=!0}}},m=f,g=(i("5c1b"),i("2877")),p=Object(g["a"])(m,o,u,!1,null,"c8878c1c",null),v=p.exports,_=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticStyle:{margin:"50px 0 30px 0"}},[i("el-form",{staticStyle:{},attrs:{inline:!0}},[i("el-form-item",{attrs:{label:"开始时间","label-width":"150px"}},[i("el-date-picker",{attrs:{type:"datetimerange","picker-options":t.pickerOptions,"range-separator":"至","start-placeholder":"左区间边界","end-placeholder":"右区间边界",align:"right"},model:{value:t.form.start_time,callback:function(e){t.$set(t.form,"start_time",e)},expression:"form.start_time"}})],1),i("el-button",{staticStyle:{background:"rgb(66,185,131)",color:"white","margin-left":"50px"},on:{click:t.submit}},[t._v("查询活动")])],1)],1)},b=[],h=i("bf05"),y={data:function(){return{form:{status:"",start_time:""},pickerOptions:h["a"],activity_status_list:s["b"]}},methods:{submit:function(){console.log(this.form.start_time),this.$parent.getActivityList()}}},A=y,k=Object(g["a"])(A,_,b,!1,null,"23dd8a0f",null),O=k.exports,w=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("el-pagination",{ref:"page",attrs:{background:"","hide-on-single-page":!0,layout:"prev, pager, next",total:t.totalPages,"current-page":t.$parent.indexPage},on:{"update:currentPage":function(e){return t.$set(t.$parent,"indexPage",e)},"update:current-page":function(e){return t.$set(t.$parent,"indexPage",e)},"current-change":t.handleCurrentChange}})},x=[],$=(i("a9e3"),{props:{totalPages:{type:Number,default:0}},methods:{handleCurrentChange:function(t){this.$emit("pageChange",t)}}}),P=$,j=(i("e874"),Object(g["a"])(P,w,x,!1,null,"50845f6e",null)),S=j.exports,D={components:{sift:O,pages:S,listCpm:v},data:function(){return{indexPage:1,totalPages:20,page_size:8,list:[],activity_status_list:s["b"]}},mounted:function(){this.getActivityList()},methods:{pageChange:function(t){this.indexPage=t,this.getActivityList()},getActivityList:function(){var t=this,e=this.$loading({lock:!0,text:"Loading",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"});Object(r["f"])({page:this.indexPage,page_size:this.page_size,audit_status:1,start_time:this.$refs.sift.form.start_time&&this.$refs.sift.form.start_time[0]?Object(c["d"])(this.$refs.sift.form.start_time[0]):"",ending_time:this.$refs.sift.form.start_time&&this.$refs.sift.form.start_time[1]?Object(c["d"])(this.$refs.sift.form.start_time[1]):""}).then((function(i){t.list=i.list,t.totalPages=10*Math.ceil(i.total/t.page_size),e.close()}))},lookGoods:function(t){console.log(t)}}},C=D,I=Object(g["a"])(C,n,a,!1,null,"9fa85584",null);e["default"]=I.exports},e874:function(t,e,i){"use strict";i("83c4")}}]);