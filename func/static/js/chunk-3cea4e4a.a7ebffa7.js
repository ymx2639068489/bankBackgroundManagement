(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3cea4e4a"],{1546:function(e,t,a){"use strict";a("dc44")},"6a66":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("sift",{ref:"sift"}),a("list",{attrs:{list:e.showList},on:{handleEdit:e.handleEdit}}),a("edit-user",{ref:"editUser",attrs:{"user-info":e.currentUser}}),a("pages",{attrs:{"total-pages":e.totlePage},on:{pageChange:e.pageChange}})],1)},l=[],s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticStyle:{margin:"50px 0 30px 0"}},[a("el-form",{staticStyle:{},attrs:{inline:!0}},[a("el-form-item",{attrs:{label:"每页个数","label-width":"100px"}},[a("el-input",{staticStyle:{width:"100px"},attrs:{placeholder:"请输入每页个数",type:"number",min:"1"},model:{value:e.$parent.page_size,callback:function(t){e.$set(e.$parent,"page_size",t)},expression:"$parent.page_size"}})],1),a("el-form-item",{attrs:{label:"状态","label-width":"100px"}},[a("el-select",{attrs:{clearable:""},model:{value:e.form.status,callback:function(t){e.$set(e.form,"status",t)},expression:"form.status"}},e._l(e.user_status_list,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),a("el-form-item",{attrs:{label:"性别","label-width":"100px"}},[a("el-select",{attrs:{clearable:""},model:{value:e.form.gender,callback:function(t){e.$set(e.form,"gender",t)},expression:"form.gender"}},e._l(e.user_gender_list,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),a("el-form-item",{attrs:{label:"年龄(置0取消)","label-width":"150px"}},[a("el-input",{attrs:{type:"number"},model:{value:e.form.age,callback:function(t){e.$set(e.form,"age",t)},expression:"form.age"}})],1),a("el-button",{staticStyle:{background:"rgb(66,185,131)",color:"white","margin-left":"50px"},on:{click:e.submit}},[e._v("查询活动")])],1)],1)},i=[],r=a("b146"),u={data:function(){return{form:{status:"",gender:"",age:0},user_status_list:r["p"],user_gender_list:r["n"]}},methods:{submit:function(){this.$parent.getUserList()}}},o=u,c=a("2877"),f=Object(c["a"])(o,s,i,!1,null,"118e2846",null),d=f.exports,p=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e.list&&e.list.length>0?e._l(e.list,(function(t,n){return a("el-card",{key:n,staticClass:"item"},[a("div",{staticClass:"content"},[a("span",{staticClass:"item-label"},[e._v(" "+e._s(e.user_status_map[t.status])+"ing... ")]),a("h4",{staticStyle:{overflow:"hidden"}},[a("img",{attrs:{src:t.profile_picture_url,width:"60px",height:"60px",alt:"",align:"top"}}),a("span",{staticStyle:{"margin-left":"20px"}},[e._v(" "+e._s(t.nick_name||"用户暂未设置昵称")+" ")]),a("span",{staticStyle:{position:"absolute",top:"80px",left:"105px"}},[e._v(" "+e._s(t.phone_number)+" ")])]),a("div",{staticStyle:{display:"flex","font-size":"20px","margin-bottom":"10px"}},[a("div",{staticStyle:{flex:"0.6"}},[a("span",{staticClass:"lable-numbers"},[e._v(" 性别: "+e._s(e.user_gender_map[t.gender])+" ")])]),a("div",{staticStyle:{flex:"0.6"}},[a("span",{staticClass:"lable-numbers"},[e._v(" 年龄: "+e._s(t.age)+" ")])]),a("div",{staticStyle:{flex:"1"}},[a("span",[e._v(" 职业: "+e._s(t.occupation||"未知"))])])]),a("span",{staticClass:"lable-numbers"},[e._v(" 上一次登录时间: "+e._s(e.$IsoToString(t.login_time))+" ")])]),a("div",{staticClass:"bottom"},[a("el-button",{staticStyle:{background:"rgb(66,185,131)",color:"white"},on:{click:function(a){return e.handleEdit(t)}}},[e._v(" 编辑 ")])],1)])})):[a("el-card",{staticClass:"item",staticStyle:{"line-height":"200px"}},[a("span",{staticStyle:{"margin-left":"140px"}},[e._v("暂无数据")])])]],2)},m=[],b={props:{list:{type:Array,default:function(){return[]}}},data:function(){return{user_status_map:r["q"],user_gender_map:r["o"]}},methods:{handleEdit:function(e){this.$emit("handleEdit",e)}}},g=b,h=(a("1546"),Object(c["a"])(g,p,m,!1,null,"4b7170b4",null)),_=h.exports,v=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-pagination",{ref:"page",attrs:{background:"","hide-on-single-page":!0,layout:"prev, pager, next",total:e.totalPages,"current-page":e.$parent.indexPage},on:{"update:currentPage":function(t){return e.$set(e.$parent,"indexPage",t)},"update:current-page":function(t){return e.$set(e.$parent,"indexPage",t)},"current-change":e.handleCurrentChange}})},x=[],k=(a("a9e3"),{props:{totalPages:{type:Number,default:0}},methods:{handleCurrentChange:function(e){this.$emit("pageChange",e)}}}),y=k,$=(a("affd"),Object(c["a"])(y,v,x,!1,null,"04dc8b6b",null)),w=$.exports,S=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.dialogVisiable?a("el-dialog",{attrs:{title:"修改用户信息",visible:e.dialogVisiable},on:{"update:visible":function(t){e.dialogVisiable=t}}},[a("el-form",{staticStyle:{width:"450px"}},[a("el-form-item",{attrs:{label:"用户昵称","label-width":"150px"}},[a("el-input",{attrs:{placeholder:"请输入用户昵称"},model:{value:e.form.nick_name,callback:function(t){e.$set(e.form,"nick_name",t)},expression:"form.nick_name"}})],1),a("el-form-item",{attrs:{label:"用户职业","label-width":"150px"}},[a("el-input",{attrs:{placeholder:"请输入用户昵称"},model:{value:e.form.occupation,callback:function(t){e.$set(e.form,"occupation",t)},expression:"form.occupation"}})],1),a("el-form-item",{attrs:{label:"用户状态","label-width":"150px"}},[a("el-switch",{attrs:{"active-color":"#13ce66"},model:{value:e.form.status,callback:function(t){e.$set(e.form,"status",t)},expression:"form.status"}})],1)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogVisiable=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:e.submit}},[e._v("确 定")])],1)],1):e._e()},C=[],P=(a("d3b7"),a("b775"));function U(e){var t=e.page,a=e.age,n=e.gender,l=e.status,s=e.page_size;return a=Number(a),n=Number(n),l=Number(l),s=Number(s),new Promise((function(e,i){Object(P["a"])({url:"/api/user/list",method:"post",data:JSON.stringify({page:t,page_size:s,age:a,gender:n,status:l})}).then((function(t){0!==t.code?i(t.msg):e(t.data)}))}))}function z(e){var t=e.nick_name,a=e.occupation,n=e.user_uuid,l=e.status;return l=Number(l),new Promise((function(e,s){Object(P["a"])({url:"/api/user/update",method:"put",data:JSON.stringify({nick_name:t,occupation:a,user_uuid:n,status:l})}).then((function(t){0!==t.code?s(t.msg):e(t.msg)}))}))}var E={props:{userInfo:{type:Object,default:function(){return{nick_name:"",occupation:"",status:"",user_uuid:""}}}},data:function(){return{dialogVisiable:!1,form:{nick_name:"",occupation:"",status:!0,user_uuid:""}}},watch:{dialogVisiable:function(e,t){e&&(this.form.nick_name=this.userInfo.nick_name,this.form.occupation=this.userInfo.occupation,this.form.user_uuid=this.userInfo.user_uuid,this.form.status=1===this.userInfo.status)}},methods:{submit:function(){var e=this;this.$confirm("确定更新 ".concat(this.userInfo.nick_name," 信息")).then((function(){z({nick_name:e.form.nick_name,occupation:e.form.occupation,status:e.form.status?1:-1,user_uuid:e.form.user_uuid}).then((function(t){e.$message({type:"success",message:"更新成功"}),e.dialogVisiable=!1,e.$parent.getUserList()}))})).catch((function(){}))}}},O=E,j=Object(c["a"])(O,S,C,!1,null,"0abb57a1",null),L=j.exports,N={components:{list:_,sift:d,pages:w,editUser:L},data:function(){return{showList:[],totlePage:10,indexPage:1,page_size:2,currentUser:{nick_name:"",occupation:"",status:"",user_uuid:""}}},watch:{page_size:function(e,t){this.indexPage=1}},mounted:function(){this.getUserList()},methods:{getUserList:function(){var e=this;U({page:this.indexPage,page_size:this.page_size,age:this.$refs.sift.form.age,gender:this.$refs.sift.form.gender,status:this.$refs.sift.form.status}).then((function(t){console.log(t),e.showList=t.List,e.totlePage=10*Math.ceil(t.total/e.page_size),console.log(e.totlePage)}))},handleEdit:function(e){for(var t in this.currentUser)this.currentUser[t]=e[t];this.$refs.editUser.dialogVisiable=!0},pageChange:function(e){this.indexPage=e,this.getUserList()}}},V=N,I=Object(c["a"])(V,n,l,!1,null,"26fde03a",null);t["default"]=I.exports},a358:function(e,t,a){},affd:function(e,t,a){"use strict";a("a358")},b146:function(e,t,a){"use strict";a.d(t,"i",(function(){return n})),a.d(t,"j",(function(){return l})),a.d(t,"k",(function(){return s})),a.d(t,"d",(function(){return i})),a.d(t,"e",(function(){return r})),a.d(t,"b",(function(){return u})),a.d(t,"c",(function(){return o})),a.d(t,"a",(function(){return c})),a.d(t,"p",(function(){return f})),a.d(t,"q",(function(){return d})),a.d(t,"n",(function(){return p})),a.d(t,"o",(function(){return m})),a.d(t,"f",(function(){return b})),a.d(t,"g",(function(){return g})),a.d(t,"h",(function(){return h})),a.d(t,"l",(function(){return _})),a.d(t,"m",(function(){return v}));var n=[{value:2,label:"审核通过"},{value:1,label:"等待审核"},{value:0,label:"测试中"},{value:-1,label:"审核失败"}],l={2:"审核通过",1:"等待审核",0:"测试中","-1":"审核失败"},s=[{value:1,label:"存款"},{value:2,label:"贷款"}],i=[{value:0,label:"暂不定义"},{value:1,label:"年利率"},{value:2,label:"月利率"},{value:3,label:"日利率"}],r={0:"暂不定义",1:"年利率",2:"月利率",3:"日利率"},u=[{value:1,label:"筛选配置"},{value:2,label:"资源配置"},{value:3,label:"等待审核"},{value:4,label:"等待开始"}],o={1:"筛选配置",2:"资源配置",3:"等待审核",4:"等待开始"},c=[{value:1,label:"等待审核"},{value:2,label:"审核成功"},{value:-1,label:"审核失败"}],f=[{value:1,label:"正常"},{value:-1,label:"冻结"},{value:0,label:"测试"}],d={1:"正常","-1":"冻结",0:"测试"},p=[{label:"女",value:1},{label:"男",value:2},{label:"未知",value:0}],m={1:"女",2:"男",0:"未知"},b=[{value:1,label:"等待处理"},{value:2,label:"处理成功"},{value:-1,label:"订单失败"}],g={1:"等待处理",2:"处理成功","-1":"订单失败"},h={1:"未支付",2:"支付","-1":"支付失败"},_=[{value:1,label:"等待审核"},{value:2,label:"审核成功"},{value:-1,label:"审核失败"},{value:0,label:"查看所有"}],v={1:"等待审核",2:"审核成功","-1":"审核失败"}},dc44:function(e,t,a){}}]);